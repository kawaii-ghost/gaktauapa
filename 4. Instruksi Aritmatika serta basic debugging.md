# Instruksi Aritmatika serta basic debugging

Sekarang kita akan belajar membuat Instuksi Aritmatika, dan juga men-debug-nya menggunakan GDB.

## Aritmatika Assmebly
jadi aritmatika dalam assembly adalah sebuah instruksi yang di eksekusi melalui [**Arithmetic Logical Unit (ALU)**](https://en.wikipedia.org/wiki/Arithmetic_logic_unit). 

### Tipe Aritmatika
| Tipe Aritmatika | Assembly | Notation |
| --------------- | -------- |----------|
| `Addition`      | **add**  | **+**    |
| `Subtraction`   | **sub**  | **-**    |
| `Multiplication`| **mul**  | **x**    |
| `Division`      | **div**  | **/**    |
| `Increment`     | **inc**  | **+1**   |
| `Decrement`     | **dec**  | **-1**   |

#### Addition
Sama seperti di matematika, addition/pertambahan di assembly mengambil 2 input dan menggabungkannya menjadi satu. Bedanya disini kita memiliki source dan destination, dimana source ini akan ditambahkan pada destination address yang dituju.
```
add <destination>, <source>
```
contoh:
```
add rax, 0x0A
add rax, 10
```
##### NASM
```asm
global _start
section .text
_start:
    mov rax, 0
    add rax, 10 ; add 10 to rax
    add rax, 20 ; add 20 to rax
    add rax, 30 ; add 30 to rax

exit:
    mov rax, 0x3c ; exit syscall
    mov rdi, 0
    syscall
```
##### GDB testing
Setelah kita meng-compile instruksi diatas menggunakan `nasm`, kita akan menganalisa bagaimana fungsi add bekerja menggunakan GDB.

Pertama kita akan menjalankan gdb, dengan menggunakan perintah:
```
gdb <nama_program>
```
Setelah masuk kedalam Command Line Interface di GDB, kita akan mengetikkan perintah dibawah untuk mengubah format disassembly-nya menjadi format intel, agar lebih mudah dibaca.
```
set disassembly-flavor intel
```
Lalu kita akan set `step-mode` variable menjadi on, agar kita dapat mendebug instruksi assembly satu persatu.
```
set step-mode on
```
Ok, setelah men-setup GDB-nya, kita langsung saja ke bagian utama, yaitu menganalisa instruksi `add` pada program.
Pertama kita akan set breakpoint pada symbol `_start`.
```
break _start
```
Next, kita jalankan programnya.
```
run
```
========================================>tag
```
next
```
- info registers
```
rax            0x0                 0
```
#### Subtraction
```asm
global _start
section .text
_start:
    mov rax, 100
    sub rax, 10 ; subtract 10 from rax
    sub rax, 20 ; subtract 20 from rax
    sub rax, 30 ; subtract 30 from rax

exit:
    mov rax, 0x3c ; exit syscall
    mov rdi, 0
    syscall
```
#### Multiplication
#### Division
#### Increment
#### Decrement

## Debugging di GDB
### Basic Command
### Hand in Lab
#### Contoh comand 1
#### Contoh comand 2
#### Contoh comand 3
